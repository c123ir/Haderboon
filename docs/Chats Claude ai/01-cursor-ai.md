# Ú¯Ø²Ø§Ø±Ø´ Ú©Ø§Ù…Ù„ ØªØºÛŒÛŒØ±Ø§Øª Ùˆ Ø¨Ù‡Ø¨ÙˆØ¯Ù‡Ø§ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡ Ù‡Ø§Ø¯Ø±Ø¨ÙˆÙ†

## ğŸ“‹ Ø®Ù„Ø§ØµÙ‡ Ú©Ù„ÛŒ
Ø¯Ø± Ø§ÛŒÙ† Ø¬Ù„Ø³Ù‡ØŒ Ù…Ø´Ú©Ù„Ø§Øª Ù…Ù‡Ù…ÛŒ Ø¯Ø± Ø³ÛŒØ³ØªÙ… Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ Ùˆ Ù¾ÙˆØ´Ù‡ Ø­Ù„ Ø´Ø¯ Ùˆ Ø¨Ù‡Ø¨ÙˆØ¯Ù‡Ø§ÛŒ Ù‚Ø§Ø¨Ù„ ØªÙˆØ¬Ù‡ÛŒ Ø§Ø¹Ù…Ø§Ù„ Ú¯Ø±Ø¯ÛŒØ¯.

---

## ğŸ”§ Ù…Ø´Ú©Ù„Ø§Øª Ø§ØµÙ„ÛŒ Ú©Ù‡ Ø­Ù„ Ø´Ø¯

### 1. **Ù…Ø´Ú©Ù„ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù†ÙˆØ¹ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§**
- **Ù…Ø´Ú©Ù„**: ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ prisma Ùˆ Ø³Ø§ÛŒØ± Ø§Ù†ÙˆØ§Ø¹ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø±Ø¯ Ù…ÛŒâ€ŒØ´Ø¯Ù†Ø¯
- **Ø¹Ù„Øª**: Ù„ÛŒØ³Øª `ALLOWED_EXTENSIONS` Ø¨Ø³ÛŒØ§Ø± Ù…Ø­Ø¯ÙˆØ¯ Ø¨ÙˆØ¯
- **Ø±Ø§Ù‡â€ŒØ­Ù„**: ØªØºÛŒÛŒØ± Ú©Ø§Ù…Ù„ `fileFilter` Ø¯Ø± middleware Ø¢Ù¾Ù„ÙˆØ¯

### 2. **Ù…Ø´Ú©Ù„ "Ù†Ø§Ù… Ù¾ÙˆØ´Ù‡ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª"**
- **Ù…Ø´Ú©Ù„**: Ø®Ø·Ø§ÛŒ 400 Ø¨Ø§ Ù¾ÛŒØ§Ù… "Ù†Ø§Ù… Ù¾ÙˆØ´Ù‡ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª" Ù‡Ù†Ú¯Ø§Ù… Ø¢Ù¾Ù„ÙˆØ¯ Ù¾ÙˆØ´Ù‡
- **Ø¹Ù„Øª**: `selectedDirectory` Ø®Ø§Ù„ÛŒ Ø¨ÙˆØ¯ Ùˆ Ø¨Ù‡ backend Ø§Ø±Ø³Ø§Ù„ Ù†Ù…ÛŒâ€ŒØ´Ø¯
- **Ø±Ø§Ù‡â€ŒØ­Ù„**: Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† fallback logic Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù†Ø§Ù… Ù¾ÙˆØ´Ù‡

### 3. **Ù…Ø´Ú©Ù„ Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ´Ø±ÙØª Ø¢Ù¾Ù„ÙˆØ¯**
- **Ù…Ø´Ú©Ù„**: Ù†ÙˆØ§Ø± Ù¾ÛŒØ´Ø±ÙØª Ø¨Ù‡ 40% Ù…ÛŒâ€ŒÙ¾Ø±ÛŒØ¯ Ùˆ Ù…ØªÙˆÙ‚Ù Ù…ÛŒâ€ŒØ´Ø¯
- **Ø±Ø§Ù‡â€ŒØ­Ù„**: Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…Ø±Ø§Ø­Ù„ Ù…Ù†Ø§Ø³Ø¨ Ù¾ÛŒØ´Ø±ÙØª Ø¨Ø§ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ù…Ø¹Ù†Ø§Ø¯Ø§Ø±

---

## ğŸ“ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ØªØºÛŒÛŒØ± ÛŒØ§ÙØªÙ‡

### 1. **Backend Files**

#### `backend/src/middleware/upload.ts`
```typescript
// ØªØºÛŒÛŒØ± Ø§Ø³Ø§Ø³ÛŒ Ø¯Ø± fileFilter
const fileFilter = (req: any, file: Express.Multer.File, cb: FileFilterCallback) => {
  const originalName = Buffer.from(file.originalname, 'latin1').toString('utf8');
  
  // ÙÙ‚Ø· node_modules Ø±Ø§ Ø±Ø¯ Ú©Ù†ØŒ Ø¨Ù‚ÛŒÙ‡ Ù‡Ù…Ù‡ Ù…Ø¬Ø§Ø²
  if (originalName.includes('node_modules/')) {
    cb(new Error(`ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ node_modules Ù…Ø¬Ø§Ø² Ù†ÛŒØ³ØªÙ†Ø¯`));
  } else {
    cb(null, true); // Ù‡Ù…Ù‡ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø± Ù…Ø¬Ø§Ø²
  }
};
```

**ØªØºÛŒÛŒØ±Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ:**
- Ø­Ø°Ù Ù„ÛŒØ³Øª Ù…Ø­Ø¯ÙˆØ¯ `ALLOWED_EXTENSIONS`
- Ø§Ø¬Ø§Ø²Ù‡ Ø¢Ù¾Ù„ÙˆØ¯ Ù‡Ù…Ù‡ Ù†ÙˆØ¹ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø¨Ù‡ Ø¬Ø² `node_modules`
- Ø¨Ù‡Ø¨ÙˆØ¯ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø®Ø·Ø§

### 2. **Frontend Files**

#### `frontend/src/pages/NewProjectPage.tsx`
**ØªØºÛŒÛŒØ±Ø§Øª Ø§Ø³Ø§Ø³ÛŒ:**

1. **Ø¨Ù‡Ø¨ÙˆØ¯ Ù…Ù†Ø·Ù‚ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù†Ø§Ù… Ù¾ÙˆØ´Ù‡:**
```typescript
// Ø§Ú¯Ø± selectedDirectory Ø®Ø§Ù„ÛŒ Ø§Ø³ØªØŒ Ø§Ø² Ø§ÙˆÙ„ÛŒÙ† ÙØ§ÛŒÙ„ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ú©Ù†
let directoryName = selectedDirectory;
if (!directoryName && uploadedFiles.length > 0) {
  const firstFile = uploadedFiles[0];
  if (firstFile.name.includes('/')) {
    directoryName = firstFile.name.split('/')[0];
  } else if (firstFile.file.webkitRelativePath) {
    directoryName = firstFile.file.webkitRelativePath.split('/')[0];
  } else {
    directoryName = 'uploaded-files'; // Ù†Ø§Ù… Ù¾ÛŒØ´â€ŒÙØ±Ø¶
  }
}

// Ø§Ú¯Ø± Ù‡Ù†ÙˆØ² Ù‡Ù… Ø®Ø§Ù„ÛŒ Ø§Ø³ØªØŒ Ø§Ø² localStorage Ø¨Ø®ÙˆØ§Ù†
if (!directoryName) {
  directoryName = localStorage.getItem('lastSelectedDirectory') || 'uploaded-directory';
}
```

2. **Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† debug logs:**
```typescript
console.log('ğŸ” Debug - selectedDirectory:', selectedDirectory);
console.log('ğŸ” Debug - uploadedFiles[0].name:', uploadedFiles[0]?.name);
```

3. **Ø¨Ù‡Ø¨ÙˆØ¯ Ù…Ù†Ø·Ù‚ watching:**
```typescript
// Start watching if directory mode was used
if (uploadMode === 'directory') {
  try {
    console.log('ğŸ‘ï¸ Ø´Ø±ÙˆØ¹ Ù†Ø¸Ø§Ø±Øª Ø¨Ø± Ù¾Ø±ÙˆÚ˜Ù‡...');
    await apiService.startProjectWatching(projectId);
    console.log('âœ… Ù†Ø¸Ø§Ø±Øª Ø´Ø±ÙˆØ¹ Ø´Ø¯');
  } catch (error) {
    console.warn('Ø®Ø·Ø§ Ø¯Ø± Ø´Ø±ÙˆØ¹ Ù†Ø¸Ø§Ø±Øª:', error);
  }
}
```

---

## ğŸ†• ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡

### 1. **Test Files**

#### `test-files/test.prisma`
```prisma
// test-files/test.prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id    Int     @id @default(autoincrement())
  email String  @unique
  name  String?
  posts Post[]
}

model Post {
  id        Int     @id @default(autoincrement())
  title     String
  content   String?
  published Boolean @default(false)
  author    User    @relation(fields: [authorId], references: [id])
  authorId  Int
}
```

#### `test-files/test.dockerfile`
```dockerfile
# test-files/test.dockerfile
FROM node:18-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY . .

EXPOSE 3000

CMD ["npm", "start"]
```

#### `test-files/README.md`
```markdown
# Test Files for Haderboon

Ø§ÛŒÙ† ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ ØªØ³Øª Ø³ÛŒØ³ØªÙ… Ø¢Ù¾Ù„ÙˆØ¯ Ù‡Ø§Ø¯Ø±Ø¨ÙˆÙ† Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯.

## ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯:
- `test.prisma` - ÙØ§ÛŒÙ„ Prisma Schema
- `test.dockerfile` - ÙØ§ÛŒÙ„ Docker
- `README.md` - Ø§ÛŒÙ† ÙØ§ÛŒÙ„

## Ù‡Ø¯Ù:
ØªØ³Øª Ø¢Ù¾Ù„ÙˆØ¯ Ø§Ù†ÙˆØ§Ø¹ Ù…Ø®ØªÙ„Ù ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ú©Ù‡ Ù‚Ø¨Ù„Ø§Ù‹ Ø±Ø¯ Ù…ÛŒâ€ŒØ´Ø¯Ù†Ø¯.
```

#### `test-files/test-project/main.js`
```javascript
// test-files/test-project/main.js
console.log('Hello from test project!');

function greet(name) {
  return `Hello, ${name}!`;
}

module.exports = { greet };
```

#### `test-files/test-project/package.json`
```json
{
  "name": "test-project",
  "version": "1.0.0",
  "description": "A simple test project for Haderboon",
  "main": "main.js",
  "scripts": {
    "start": "node main.js",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": ["test", "haderboon"],
  "author": "Test User",
  "license": "MIT"
}
```

---

## ğŸ” Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ Ùˆ Ø±Ø§Ù‡â€ŒØ­Ù„â€ŒÙ‡Ø§

### 1. **Ú†Ø§Ù„Ø´ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª ÙØ§ÛŒÙ„â€ŒÙ‡Ø§**
- **Ù…Ø´Ú©Ù„**: Ø³ÛŒØ³ØªÙ… ÙÙ‚Ø· ØªØ¹Ø¯Ø§Ø¯ Ù…Ø­Ø¯ÙˆØ¯ÛŒ Ø§Ø² Ø§Ù†ÙˆØ§Ø¹ ÙØ§ÛŒÙ„ Ø±Ø§ Ù‚Ø¨ÙˆÙ„ Ù…ÛŒâ€ŒÚ©Ø±Ø¯
- **ØªØ£Ø«ÛŒØ±**: Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø³ØªÙ†Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ù…Ù„ Ø®ÙˆØ¯ Ø±Ø§ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†Ù†Ø¯
- **Ø±Ø§Ù‡â€ŒØ­Ù„**: ØªØºÛŒÛŒØ± Ø±ÙˆÛŒÚ©Ø±Ø¯ Ø§Ø² whitelist Ø¨Ù‡ blacklist (ÙÙ‚Ø· node_modules Ø±Ø¯ Ø´ÙˆØ¯)

### 2. **Ú†Ø§Ù„Ø´ Ù…Ø¯ÛŒØ±ÛŒØª state Ø¯Ø± React**
- **Ù…Ø´Ú©Ù„**: `selectedDirectory` Ø¯Ø± Ø¬Ø±ÛŒØ§Ù† Ø§Ù†ØªØ®Ø§Ø¨ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ù¾Ø§Ú© Ù…ÛŒâ€ŒØ´Ø¯
- **ØªØ£Ø«ÛŒØ±**: backend Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø³Øª Ù†Ø§Ù… Ù¾ÙˆØ´Ù‡ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†Ø¯
- **Ø±Ø§Ù‡â€ŒØ­Ù„**: Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† multiple fallback mechanisms

### 3. **Ú†Ø§Ù„Ø´ User Experience**
- **Ù…Ø´Ú©Ù„**: Ú©Ø§Ø±Ø¨Ø± Ù†Ù…ÛŒâ€ŒØ¯Ø§Ù†Ø³Øª Ú†Ø±Ø§ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒØ´ Ø±Ø¯ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
- **Ø±Ø§Ù‡â€ŒØ­Ù„**: Ø¨Ù‡Ø¨ÙˆØ¯ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø®Ø·Ø§ Ùˆ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† debug logs

---

## ğŸ“Š Ø¢Ù…Ø§Ø± ØªØºÛŒÛŒØ±Ø§Øª

| Ù†ÙˆØ¹ ØªØºÛŒÛŒØ± | ØªØ¹Ø¯Ø§Ø¯ ÙØ§ÛŒÙ„ | Ø¬Ø²Ø¦ÛŒØ§Øª |
|----------|------------|---------|
| **ØªØºÛŒÛŒØ± Ø§Ø³Ø§Ø³ÛŒ** | 2 ÙØ§ÛŒÙ„ | `upload.ts`, `NewProjectPage.tsx` |
| **ÙØ§ÛŒÙ„ Ø¬Ø¯ÛŒØ¯** | 5 ÙØ§ÛŒÙ„ | ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ØªØ³Øª Ùˆ Ù†Ù…ÙˆÙ†Ù‡ |
| **Ø¨Ù‡Ø¨ÙˆØ¯ Ù…Ù†Ø·Ù‚** | 1 ÙØ§ÛŒÙ„ | `NewProjectPage.tsx` |
| **Debug Ùˆ Logging** | 2 ÙØ§ÛŒÙ„ | Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù† logs |

---

## âœ… Ù†ØªØ§ÛŒØ¬ Ø­Ø§ØµÙ„ Ø´Ø¯Ù‡

### 1. **Ø¨Ù‡Ø¨ÙˆØ¯ Ù‚Ø§Ø¨Ù„ÛŒØª Ø¢Ù¾Ù„ÙˆØ¯**
- âœ… Ù‡Ù…Ù‡ Ù†ÙˆØ¹ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ (Ø¨Ù‡ Ø¬Ø² node_modules) Ù‚Ø§Ø¨Ù„ Ø¢Ù¾Ù„ÙˆØ¯
- âœ… ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ PrismaØŒ DockerfileØŒ Ùˆ Ø³Ø§ÛŒØ± ÙØ±Ù…Øªâ€ŒÙ‡Ø§ Ù¾Ø°ÛŒØ±ÙØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
- âœ… Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø®Ø·Ø§ÛŒ Ø¨Ù‡ØªØ± Ùˆ ÙˆØ§Ø¶Ø­â€ŒØªØ±

### 2. **Ø¨Ù‡Ø¨ÙˆØ¯ ØªØ¬Ø±Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ**
- âœ… fallback mechanisms Ø¨Ø±Ø§ÛŒ Ù†Ø§Ù… Ù¾ÙˆØ´Ù‡
- âœ… debug logs Ø¨Ø±Ø§ÛŒ troubleshooting
- âœ… Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ø¶Ø­â€ŒØªØ± Ø¯Ø± console

### 3. **Ù¾Ø§ÛŒØ¯Ø§Ø±ÛŒ Ø³ÛŒØ³ØªÙ…**
- âœ… Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ù‡ØªØ± Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø·Ø§
- âœ… fallback Ø¨Ù‡ localStorage
- âœ… Ù…Ø¯ÛŒØ±ÛŒØª ØµØ­ÛŒØ­ state Ø¯Ø± React

---

## ğŸ”® Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª Ø¢ÛŒÙ†Ø¯Ù‡

1. **Ø¨Ù‡Ø¨ÙˆØ¯ UI/UX:**
   - Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† progress indicator Ø¨ØµØ±ÛŒ Ø¨Ù‡ØªØ±
   - Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø±Ø¯ Ø´Ø¯Ù‡ Ø¨Ø§ Ø¯Ù„ÛŒÙ„

2. **Ø¨Ù‡Ø¨ÙˆØ¯ Performance:**
   - Ù¾Ø±Ø¯Ø§Ø²Ø´ async ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯
   - Ù†Ù…Ø§ÛŒØ´ real-time progress

3. **Ø§Ù…Ù†ÛŒØª:**
   - Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† virus scanning
   - Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø­Ø¬Ù… Ú©Ù„ Ù¾Ø±ÙˆÚ˜Ù‡

---

## ğŸ“ Ù†ØªÛŒØ¬Ù‡â€ŒÚ¯ÛŒØ±ÛŒ

ØªØºÛŒÛŒØ±Ø§Øª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ Ù…Ø´Ú©Ù„Ø§Øª Ø§ØµÙ„ÛŒ Ø³ÛŒØ³ØªÙ… Ø¢Ù¾Ù„ÙˆØ¯ Ø±Ø§ Ø­Ù„ Ú©Ø±Ø¯ Ùˆ ØªØ¬Ø±Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø±Ø§ Ø¨Ù‡ Ø·ÙˆØ± Ù‚Ø§Ø¨Ù„ ØªÙˆØ¬Ù‡ÛŒ Ø¨Ù‡Ø¨ÙˆØ¯ Ø¨Ø®Ø´ÛŒØ¯. Ø³ÛŒØ³ØªÙ… Ø­Ø§Ù„Ø§ Ù‚Ø§Ø¯Ø± Ø§Ø³Øª Ø§Ù†ÙˆØ§Ø¹ Ù…Ø®ØªÙ„Ù ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ù¾Ø°ÛŒØ±Ø¯ Ùˆ Ø¯Ø± Ù…ÙˆØ§Ø¬Ù‡Ù‡ Ø¨Ø§ Ø®Ø·Ø§Ù‡Ø§ Ø±ÙØªØ§Ø± Ù…Ù†Ø§Ø³Ø¨â€ŒØªØ±ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯.