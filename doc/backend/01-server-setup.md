# مستندات: راه‌اندازی سرور پایه (Backend)

**فایل:** `backend/src/index.ts`
**تاریخ ایجاد:** ۱۴۰۳/۰۳/۲۴
**نویسنده:** دانیا (بر اساس کد مجتبی حسنی)

---

## ۱. هدف کلی (Overall Purpose)

این فایل به عنوان **نقطه ورود (Entry Point)** و قلب اصلی اپلیکیشن بک‌اند عمل می‌کند. مسئولیت اصلی آن، راه‌اندازی یک سرور وب با استفاده از فریمورک **Express.js**، پیکربندی تنظیمات اولیه و آماده‌سازی سرور برای پاسخگویی به درخواست‌های HTTP است.

---

## ۲. عملکرد کلیدی (Key Functionalities)

### ۲.۱. بارگذاری متغیرهای محیطی
- **کتابخانه:** `dotenv`
- **عملکرد:** در ابتدای فایل، دستور `dotenv.config()` اجرا می‌شود. این کار باعث می‌شود تمام متغیرهای تعریف شده در فایل `.env` (مانند `DATABASE_URL` و `PORT`) خوانده شده و در اختیار اپلیکیشن قرار گیرند.

### ۲.۲. ایجاد و پیکربندی سرور Express
- **کتابخانه:** `express`
- **عملکرد:** یک نمونه از اپلیکیشن Express با دستور `const app = express()` ایجاد می‌شود. این متغیر `app` نماینده کل سرور ماست.

### ۲.۳. تعریف پورت سرور
- **عملکرد:** یک ثابت به نام `PORT` تعریف می‌شود که مقدار خود را از متغیر محیطی `process.env.PORT` می‌خواند. اگر این متغیر تعریف نشده باشد، به عنوان جایگزین (Fallback) از پورت `5550` استفاده می‌کند.

### ۲.۴. اندپوینت ریشه (Root Endpoint)
- **مسیر:** `GET /`
- **عملکرد:** یک مسیر برای درخواست‌های `GET` به ریشه (root) سرور تعریف شده است. هر زمان کاربری به آدرس اصلی API (مثلاً `http://localhost:5550/`) درخواستی ارسال کند، سرور یک پاسخ به فرمت JSON با پیام خوش‌آمدگویی `{"message": "Welcome to Haderboon AI Assistant API"}` برمی‌گرداند. این مسیر برای تست سلامت (Health Check) سرور بسیار مفید است.

### ۲.۵. اجرای سرور
- **عملکرد:** دستور `app.listen(PORT, ...)` سرور را فعال کرده و آن را روی پورت تعریف شده به حالت "گوش دادن" برای درخواست‌های ورودی قرار می‌دهد. پس از اجرای موفقیت‌آمیز، یک پیام تاییدی در کنسول چاپ می‌شود.

---

## ۳. نحوه اجرا (How to Run)

برای اجرای سرور در حالت توسعه، از دستور زیر در ترمینال (در مسیر پوشه `backend`) استفاده کنید:

```bash
npm run dev
